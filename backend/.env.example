# Environment variables for Jagruti backend

# Ollama Configuration (for Qwen3 8B chat and summarization)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_CHAT_MODEL=qwen3:8b

# Embedding Model Configuration (for Qwen3 embeddings via sentence-transformers)
EMBEDDING_MODEL=Qwen/Qwen3-Embedding-0.6B
EMBEDDING_DEVICE=auto
EMBEDDING_TRUST_REMOTE_CODE=true

# Parallel Processing Configuration
FORCE_CPU_EMBEDDINGS=false
EMBEDDING_MAX_WORKERS=0  # 0 = auto-detect based on CPU cores
EMBEDDING_BATCH_SIZE=0   # 0 = auto-detect based on device

# ChromaDB Configuration
CHROMA_PERSIST_DIRECTORY=./chroma_data

# Search Configuration
RELEVANCE_THRESHOLD=0.7  # Distance threshold for including search results (0.0-1.0, lower = more strict)

# File Upload Configuration
ALLOWED_EXTENSIONS=.pdf,.txt,.doc,.docx
MAX_FILE_SIZE=50000000

# CAS Authentication Configuration
CAS_AUTH_URL=https://login.iiit.ac.in/
CAS_SERVER_URL=https://login.iiit.ac.in/cas
CAS_SERVICE_URL=http://localhost:3000/api/auth/callback

# Admin Users (comma-separated list of email addresses)
ADMIN_USERS=admin@iiit.ac.in,admin2@iiit.ac.in

# Development Configuration
DEBUG=true
HOST=0.0.0.0
PORT=8000

# Memory Optimization Configuration
TRANSFORMERS_CACHE=./model_cache
MAX_FILE_SIZE_MB=25
CHUNK_SIZE=400
CHUNK_OVERLAP=50
CHUNK_PROCESSING_BATCH_SIZE=20

# PyTorch Configuration (for GPU memory optimization)
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128,expandable_segments:True