# Environment variables for Jagruti backend

# Model Queue Configuration
MODEL_QUEUES_COUNT=3  # Number of model queues/instances to run

# HF TGI Configuration (for Qwen 3-0.6B chat and summarization)
# Make sure HF TGI Docker container is running
OLLAMA_BASE_URL=http://localhost:8000
OLLAMA_CHAT_MODEL=google/gemma-3-270m

# Embedding Model Configuration (for Qwen3 embeddings via sentence-transformers)
EMBEDDING_MODEL=Qwen/Qwen3-Embedding-8B
EMBEDDING_DEVICE=auto
EMBEDDING_TRUST_REMOTE_CODE=true

# Force embeddings to run on CPU (overrides auto/GPU in code)
# Set to 1/true/yes to force CPU; leave empty or 0 for default behavior
EMBEDDING_FORCE_CPU=1

# ChromaDB Configuration
CHROMA_PERSIST_DIRECTORY=./chroma_data

# Search Configuration
RELEVANCE_THRESHOLD=0.7  # Distance threshold for including search results (0.0-1.0, lower = more strict)

# File Upload Configuration
ALLOWED_EXTENSIONS=.pdf,.txt,.doc,.docx
MAX_FILE_SIZE=50000000

# CAS Authentication Configuration
CAS_SERVER_URL=https://cas.iiit.ac.in
CAS_SERVICE_URL=http://localhost:8000

# Admin Users (comma-separated list of email addresses)
ADMIN_USERS=admin@iiit.ac.in,admin2@iiit.ac.in

# Development Configuration
DEBUG=true
HOST=0.0.0.0
PORT=8000

# Memory Optimization
TRANSFORMERS_CACHE=./model_cache